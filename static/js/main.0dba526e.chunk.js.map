{"version":3,"sources":["components/Navigation.tsx","App.tsx","api.ts","components/Loader/Loader.tsx","components/PersonLink.tsx","components/PeopleTable.tsx","components/PeoplePage.tsx","index.tsx"],"names":["Navigation","isActiveClass","_ref","isActive","classNames","_jsx","className","role","children","_jsxs","NavLink","to","App","Outlet","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","Loader","PersonLink","person","Link","concat","slug","sex","name","PeopleTable","people","findParentForPeople","useMemo","map","_objectSpread","mother","find","motherName","father","fatherName","useParams","parentLinks","useCallback","parentName","parentInfo","_Fragment","born","died","PeoplePage","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","isError","setIsError","_useState5","_useState6","isLoading","setIsLoading","useEffect","catch","finally","length","Root","Router","Routes","Route","path","element","index","Navigate","replace","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.0dba526e.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nexport const Navigation: React.FC = () => {\n  const isActiveClass = ({ isActive }: { isActive: boolean }) => (\n    classNames('navbar-item', {\n      'has-background-grey-lighter': isActive,\n    })\n  );\n\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink\n            to=\"/\"\n            className={isActiveClass}\n          >\n            Home\n          </NavLink>\n\n          <NavLink\n            to=\"/people\"\n            className={isActiveClass}\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import './App.scss';\nimport { Outlet } from 'react-router-dom';\nimport { Navigation } from './components/Navigation';\n\nexport const App = () => {\n  return (\n    <div data-cy=\"app\">\n\n      <Navigation />\n      <main className=\"section\">\n        <div className=\"container\">\n          <Outlet />\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import classNames from 'classnames';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../types';\n\ninterface Props {\n  person: Person,\n}\n\nexport const PersonLink: React.FC<Props> = ({ person }) => {\n  return (\n    <Link\n      to={`../${person.slug}`}\n      className={classNames({\n        'has-text-danger': person.sex === 'f',\n      })}\n    >\n      {person.name}\n    </Link>\n  );\n};\n","import React, { useCallback, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { useParams } from 'react-router-dom';\nimport { PersonLink } from './PersonLink';\nimport { Person } from '../types';\n\ninterface Props {\n  people: Person[],\n}\n\nexport const PeopleTable: React.FC<Props> = ({ people }) => {\n  const findParentForPeople = useMemo(() => {\n    const temp = people.map(person => ({\n      ...person,\n      mother: people.find(mother => mother.name === person.motherName) || null,\n      father: people.find(father => father.name === person.fatherName) || null,\n    }));\n\n    return temp;\n  }, [people]);\n\n  const { slug } = useParams();\n\n  const parentLinks = useCallback((\n    parentName: string | null,\n    parentInfo: Person | null,\n  ) => {\n    if (!parentName && !parentInfo) {\n      return '-';\n    }\n\n    if (parentInfo) {\n      return <PersonLink person={parentInfo} />;\n    }\n\n    return parentName;\n  }, []);\n\n  return (\n    <>\n      <table\n        data-cy=\"peopleTable\"\n        className=\"\n    table\n    is-striped\n    is-hoverable\n    is-narrow\n    is-fullwidth\"\n      >\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Sex</th>\n            <th>Born</th>\n            <th>Died</th>\n            <th>Mother</th>\n            <th>Father</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {findParentForPeople.map(person => (\n            <tr\n              key={person.slug}\n              data-cy=\"person\"\n              className={classNames({\n                'has-background-warning':\n            slug === person.slug,\n              })}\n            >\n              <td>\n                <PersonLink\n                  person={person}\n                />\n              </td>\n\n              <td>{person.sex}</td>\n              <td>{person.born}</td>\n              <td>{person.died}</td>\n              <td>\n                {parentLinks(person.motherName, person.mother)}\n              </td>\n              <td>\n                {parentLinks(person.fatherName, person.father)}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n};\n","/* eslint-disable no-nested-ternary */\nimport React, { useEffect, useState } from 'react';\nimport { getPeople } from '../api';\nimport { Person } from '../types';\nimport { Loader } from './Loader';\nimport { PeopleTable } from './PeopleTable';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPeople()\n      .then(setPeople)\n      .catch(() => {\n        setIsError(true);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"box table-container\">\n          {isLoading && <Loader />}\n\n          {isError && (\n            <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n              Something went wrong\n            </p>\n          )}\n\n          {!isLoading && !isError && people.length === 0 && (\n            <p data-cy=\"noPeopleMessage\">\n              There are no people on the server\n            </p>\n          )}\n\n          {people.length > 0 && (\n            <PeopleTable\n              people={people}\n            />\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport {\n  HashRouter as Router,\n  Route,\n  Routes,\n  Navigate,\n} from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\nimport { PeoplePage } from './components/PeoplePage';\n\nconst Root = () => (\n  <Router>\n    <Routes>\n      <Route path=\"/\" element={<App />}>\n        <Route index element={<h1 className=\"title\">Home Page</h1>} />\n        <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n        <Route path=\"people\">\n          <Route path=\":slug?\" element={<PeoplePage />} />\n        </Route>\n        <Route path=\"*\" element={<h1 className=\"title\">Page not found</h1>} />\n      </Route>\n    </Routes>\n    <App />\n  </Router>\n);\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Root />,\n  );\n"],"sourceRoot":""}